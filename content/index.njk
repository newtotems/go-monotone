---
layout: layouts/home.njk
---
<div class="wrapper">

<div class="bottle"></div>

<div class="card-group"></div>

<div class="buttons">
	<button id="next">next</button>
	<button id="previous">previous</button>
</div>

</div>

<script>// Declare 'bottles' JSON object variable
const bottles = {
  "entries": [
    {
      "background": "blue",
      "bottle": "teal",
      "link": "https://example.com/product1"
    },
    {
      "background": "green",
      "bottle": "mint",
      "link": "https://example.com/product2"
    },
    {
      "background": "red",
      "bottle": "pink",
      "link": "https://example.com/product3"
    }
  ]
};

// Get DOM elements
const wrapper = document.querySelector('.wrapper');
const bottleElement = document.querySelector('.bottle');
const previousButton = document.getElementById('previous');
const nextButton = document.getElementById('next');

// Initialize index to track current entry
let currentIndex = 0;

// Set initial background and bottle values
wrapper.style.background = bottles.entries[currentIndex].background;
bottleElement.style.background = bottles.entries[currentIndex].bottle;

// Function to add fading animation class
const addFadeAnimation = () => {
  wrapper.classList.add('fade-animation');
  bottleElement.classList.add('fade-animation');
};

// Function to remove fading animation class
const removeFadeAnimation = () => {
  wrapper.classList.remove('fade-animation');
  bottleElement.classList.remove('fade-animation');
};

// Function to handle entry change
const changeEntry = () => {
  addFadeAnimation();

  setTimeout(() => {
    // Update background and bottle values
    wrapper.style.background = bottles.entries[currentIndex].background;
    bottleElement.style.background = bottles.entries[currentIndex].bottle;

    removeFadeAnimation();
  }, 500); // Modify the delay (in milliseconds) based on the duration of your CSS animation
};

// Event listener for 'previous' button click
previousButton.addEventListener('click', () => {
  if (currentIndex > 0) {
    currentIndex--;
    changeEntry();
  }
});

// Event listener for 'next' button click
nextButton.addEventListener('click', () => {
  if (currentIndex < bottles.entries.length - 1) {
    currentIndex++;
    changeEntry();
  }
});

</script>