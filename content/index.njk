---
layout: layouts/home.njk
---
<div class="wrapper">
	<div class="btl"></div>
  <div class="card-group">
	  <div class="bottle"></div>
  </div>
  <div class="buttons">
    <button id="previous">previous</button>
    <button id="next">next</button>
  </div>
</div>

<script>
  // Declare 'bottles' JSON object variable
  const bottles = {
    "entries": [
      {
        "background": "url('https://images.pexels.com/photos/255379/pexels-photo-255379.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')",
        "bottle": "teal",
        "link": "https://example.com/product1"
      },
      {
        "background": "url('https://images.pexels.com/photos/19670/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')",
        "bottle": "blue",
        "link": "https://example.com/product2"
      },
      {
        "background": "url('https://images.pexels.com/photos/963278/pexels-photo-963278.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1')",
        "bottle": "pink",
        "link": "https://example.com/product3"
      }
    ]
  };

  // Get DOM elements
  let cardGroup = document.querySelector('.card-group');
  let bottle = document.querySelector('.bottle');
  const previousButton = document.getElementById('previous');
  const nextButton = document.getElementById('next');

  // Initialize index to track current entry
  let currentIndex = 0;

  // Set initial background and bottle values
  cardGroup.style.backgroundImage = bottles.entries[currentIndex].background;
  bottle.style.backgroundColor = bottles.entries[currentIndex].bottle;

  // Function to handle entry change
  const changeEntry = () => {
    // Fade out the current card
    cardGroup.style.opacity = 0;

    // Fade in the next card after the fade-out animation completes
    setTimeout(() => {
      // Update background and bottle values
      cardGroup.style.backgroundImage = bottles.entries[currentIndex].background;
      bottle.style.backgroundColor = bottles.entries[currentIndex].bottle;

      // Fade in the next card
      cardGroup.style.opacity = 1;
    }, 500); // Modify the delay (in milliseconds) based on the duration of your fade-in animation
  };

  // Event listener for 'previous' button click
  previousButton.addEventListener('click', () => {
    currentIndex = (currentIndex === 0) ? bottles.entries.length - 1 : currentIndex - 1;
    changeEntry();
  });

  // Event listener for 'next' button click
  nextButton.addEventListener('click', () => {
    currentIndex = (currentIndex === bottles.entries.length - 1) ? 0 : currentIndex + 1;
    changeEntry();
  });
</script>
